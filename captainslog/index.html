<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
	<title>Captain's Log</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script>
	  // Your work will be done here...
	</script>

	<script type="text/javascript">
		$(document).ready(function(){

			// Called when enter key is pressed
			$(document).keypress(function(e) {
   				if(e.which == 13) {
        			// Create the message
        			var message = $('input').val();
        			var date = new Date().toDateString();
        			var time = new Date().toLocaleTimeString();
        			message = date + " " + time + " - " + message;
        			console.log("User input at " + date + ": " + message);

        			// Save the message to localStorage
        			localStorage[new Date().getTime()] = message;

        			// Print all messages in localStorage to browser        			
        			// $("div#log").text(date + ' - ' + message);
        			reload();
    			}
			});

			// Print all messages in localStorage to browser
			console.log("Reloading");
			reload();	
		});


		// Reload data from localStorage
		function reload() {
			elem = document.getElementById("log");
			messages = "";
			for (key in localStorage) {
				messages = localStorage[key] + "<p>" + messages + "</p>\n";
			}
			elem.innerHTML = messages;
	}
	</script>
</head>

<body>
	<h1>Captain's Log</h1>
	<h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
	<div id="log"></div>
</body>
</html>